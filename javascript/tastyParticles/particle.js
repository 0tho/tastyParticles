"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(i,e,o){return e&&t(i.prototype,e),o&&t(i,o),i}}(),Particle=function(){function t(){var i=arguments.length<=0||void 0===arguments[0]?new Vector3D:arguments[0],e=arguments.length<=1||void 0===arguments[1]?new Vector3D:arguments[1],o=arguments.length<=2||void 0===arguments[2]?new Color:arguments[2];_classCallCheck(this,t),this.position=i,this.velocity=e,this.acceleration=new Vector3D,this.color=o}return _createClass(t,[{key:"move",value:function(){this.velocity.add(this.acceleration),this.position.add(this.velocity)}},{key:"update",value:function(){this.move()}},{key:"draw",value:function(t){var i=this.color.copy,e=Math.min(3,3*(this.position.z+1e3)/2e3);t.fillStyle=i.rgba,this.position.z>-1e3&&(t.beginPath(),t.arc(this.position.x,this.position.y,e,0,2*Math.PI),t.fill())}},{key:"submitToFields",value:function(t){var i,e=0,o=0,n=0;for(i=0;i<t.length;i++){var s=t[i],a=s.position.x-this.position.x,r=s.position.y-this.position.y,c=s.position.z-this.position.z,l=s.mass/Math.pow(a*a+s.mass/2+r*r+s.mass/2+c*c+s.mass/2,1.5);e+=a*l,o+=r*l,n+=c*l}this.acceleration=new Vector3D(e,o,n)}}]),t}();